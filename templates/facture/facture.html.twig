{% extends 'base.html.twig' %}
{% block title %}Liste des des factures {% endblock %}

{% block body %}

<main id="main" class="main">

    <h1>Liste des factures</h1>

<form action="{{ path('app_appartement_factures', {'idAppartement': appartement.idAppartement,}) }}" method="get">
        <label for="type">Type de facture:</label>
        <select name="type" id="type">
            <option value="">Tous</option>
            <option value="Gaz">Gaz</option>
            <option value="Eau">Eau</option>
       <option value="Electricite">Electricite</option>
       <option value="Dechets">Dechets</option>

            <!-- Ajoutez d'autres options de type de facture si nécessaire -->
        </select>
        <button type="submit">Rechercher</button>
    </form>

    <table class="table">
        <thead>
            <tr>
                <th>Numéro de facture</th>
<th><a href="{{ path('app_appartement_factures', {'idAppartement': appartement.idAppartement, 'sort_by': 'date', 'sort_order': (sortBy == 'date' and sortOrder == 'ASC') ? 'DESC' : 'ASC'}) }}">Date</a></th>
                <th>Type</th>
                <th>Montant</th>
                <th>Description</th>
                <th>Consommation</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for facture in factures %}
            <tr>
                <td>{{ facture.numfacture }}</td>
                <td>{{ facture.date ? facture.date|date('Y-m-d') : '' }}</td>
                <td>{{ facture.type }}</td>
                <td>{{ facture.montant }}</td>
                <td>{{ facture.descriptionFacture }}</td>
                <td>{{ facture.consommation }}</td>
                <td>
                    <a href="{{ path('app_facture_show', {'idFacture': facture.idfacture}) }}">Voir</a>
                    <a href="{{ path('app_facture_edit', {'idFacture': facture.idfacture}) }}">Modifier</a>
                    <a href="{{ path('app_facture_delete', {'idfacture': facture.idfacture}) }}">Supprimer</a>
                  
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="7">Aucune facture trouvée</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_facture_new') }}">Créer une nouvelle facture</a>

    <a href="{{ path('app_appartement_index') }}">Retour à la liste des appartements</a>

</main><!-- End #main -->
{% endblock %}